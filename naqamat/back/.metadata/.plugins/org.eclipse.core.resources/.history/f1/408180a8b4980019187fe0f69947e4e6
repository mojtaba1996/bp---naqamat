package ir.asta.training.contacts.dao;

import javax.inject.Named;
import javax.persistence.EntityManager;
import javax.persistence.PersistenceContext;
import javax.persistence.Query;

@Named("userDao")
public class UserDao {
	
	@PersistenceContext private EntityManager em;
	
	public boolean isNewUsername(String username){
		Query q = em.createQuery("SELECT u from UserEntity u WHERE u.username = :username");
		q.setParameter("username", username);
		List<UserEntity> result = q.getResultList();
		return result.size() == 0;
	}

}
